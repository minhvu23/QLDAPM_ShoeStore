{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classNames from'classnames/bind';import Tippy from'@tippyjs/react/headless';import{Wrapper as PopperWrapper}from\"./..\";import MenuItem from\"./MenuItem\";import Header from\"./Header\";import styles from\"./Menu.module.scss\";import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);var defaultFn=function defaultFn(){};function Menu(_ref){var children=_ref.children,_ref$items=_ref.items,items=_ref$items===void 0?[]:_ref$items,_ref$onChange=_ref.onChange,onChange=_ref$onChange===void 0?defaultFn:_ref$onChange;var _useState=useState([{data:items}]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var current=history[history.length-1];var renderItems=function renderItems(){return current.data.map(function(item,index){var isParent=!!item.children;return/*#__PURE__*/_jsx(MenuItem,{data:item,onClick:function onClick(){if(isParent){setHistory(function(prev){return[].concat(_toConsumableArray(prev),[item.children]);});}else{onChange(item);}}},index);});};return/*#__PURE__*/_jsx(Tippy,{interactive:true,delay:[0,700],offset:[12,8],placement:\"bottom-end\",render:function render(attrs){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({className:cx('menu-list'),tabIndex:\"-1\"},attrs),{},{children:/*#__PURE__*/_jsxs(PopperWrapper,{className:cx('menu-popper'),children:[history.length>1&&/*#__PURE__*/_jsx(Header,{title:\"Language\",onBack:function onBack(){setHistory(function(prev){return prev.slice(0,prev.length-1);});}}),renderItems()]})}));},onHide:function onHide(){return setHistory(function(prev){return prev.slice(0,1);});},children:children});}export default Menu;","map":{"version":3,"sources":["C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/src/components/Popper/Menu/index.js"],"names":["classNames","Tippy","Wrapper","PopperWrapper","MenuItem","Header","styles","useState","cx","bind","defaultFn","Menu","children","items","onChange","data","history","setHistory","current","length","renderItems","map","item","index","isParent","prev","attrs","slice"],"mappings":"kaAAA,MAAOA,CAAAA,UAAP,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CAEA,OAASC,OAAO,GAAIC,CAAAA,aAApB,YACA,MAAOC,CAAAA,QAAP,kBACA,MAAOC,CAAAA,MAAP,gBACA,MAAOC,CAAAA,MAAP,0BACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,EAAE,CAAGR,UAAU,CAACS,IAAX,CAAgBH,MAAhB,CAAX,CAEA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAAE,CAA1B,CAEA,QAASC,CAAAA,IAAT,MAA8D,IAA9CC,CAAAA,QAA8C,MAA9CA,QAA8C,iBAApCC,KAAoC,CAApCA,KAAoC,qBAA5B,EAA4B,+BAAxBC,QAAwB,CAAxBA,QAAwB,wBAAbJ,SAAa,eAC1D,cAA8BH,QAAQ,CAAC,CAAC,CAAEQ,IAAI,CAAEF,KAAR,CAAD,CAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,OAAO,CAAGF,OAAO,CAACA,OAAO,CAACG,MAAR,CAAiB,CAAlB,CAAvB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,MAAOF,CAAAA,OAAO,CAACH,IAAR,CAAaM,GAAb,CAAiB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACrC,GAAMC,CAAAA,QAAQ,CAAG,CAAC,CAACF,IAAI,CAACV,QAAxB,CAEA,mBACI,KAAC,QAAD,EAEI,IAAI,CAAEU,IAFV,CAGI,OAAO,CAAE,kBAAM,CACX,GAAIE,QAAJ,CAAc,CACVP,UAAU,CAAC,SAACQ,IAAD,qCAAcA,IAAd,GAAoBH,IAAI,CAACV,QAAzB,IAAD,CAAV,CACH,CAFD,IAEO,CACHE,QAAQ,CAACQ,IAAD,CAAR,CACH,CACJ,CATL,EACSC,KADT,CADJ,CAaH,CAhBM,CAAP,CAiBH,CAlBD,CAoBA,mBACI,KAAC,KAAD,EACI,WAAW,KADf,CAEI,KAAK,CAAE,CAAC,CAAD,CAAI,GAAJ,CAFX,CAGI,MAAM,CAAE,CAAC,EAAD,CAAK,CAAL,CAHZ,CAII,SAAS,CAAC,YAJd,CAKI,MAAM,CAAE,gBAACG,KAAD,qBACJ,wCAAK,SAAS,CAAElB,EAAE,CAAC,WAAD,CAAlB,CAAiC,QAAQ,CAAC,IAA1C,EAAmDkB,KAAnD,4BACI,MAAC,aAAD,EAAe,SAAS,CAAElB,EAAE,CAAC,aAAD,CAA5B,WACKQ,OAAO,CAACG,MAAR,CAAiB,CAAjB,eACG,KAAC,MAAD,EACI,KAAK,CAAC,UADV,CAEI,MAAM,CAAE,iBAAM,CACVF,UAAU,CAAC,SAACQ,IAAD,QAAUA,CAAAA,IAAI,CAACE,KAAL,CAAW,CAAX,CAAcF,IAAI,CAACN,MAAL,CAAc,CAA5B,CAAV,EAAD,CAAV,CACH,CAJL,EAFR,CASKC,WAAW,EAThB,GADJ,GADI,EALZ,CAoBI,MAAM,CAAE,wBAAMH,CAAAA,UAAU,CAAC,SAACQ,IAAD,QAAUA,CAAAA,IAAI,CAACE,KAAL,CAAW,CAAX,CAAc,CAAd,CAAV,EAAD,CAAhB,EApBZ,UAsBKf,QAtBL,EADJ,CA0BH,CAED,cAAeD,CAAAA,IAAf","sourcesContent":["import classNames from 'classnames/bind';\nimport Tippy from '@tippyjs/react/headless';\n\nimport { Wrapper as PopperWrapper } from '~/components/Popper';\nimport MenuItem from './MenuItem';\nimport Header from './Header';\nimport styles from './Menu.module.scss';\nimport { useState } from 'react';\n\nconst cx = classNames.bind(styles);\n\nconst defaultFn = () => {};\n\nfunction Menu({ children, items = [], onChange = defaultFn }) {\n    const [history, setHistory] = useState([{ data: items }]);\n    const current = history[history.length - 1];\n\n    const renderItems = () => {\n        return current.data.map((item, index) => {\n            const isParent = !!item.children;\n\n            return (\n                <MenuItem\n                    key={index}\n                    data={item}\n                    onClick={() => {\n                        if (isParent) {\n                            setHistory((prev) => [...prev, item.children]);\n                        } else {\n                            onChange(item);\n                        }\n                    }}\n                />\n            );\n        });\n    };\n\n    return (\n        <Tippy\n            interactive\n            delay={[0, 700]}\n            offset={[12, 8]}\n            placement=\"bottom-end\"\n            render={(attrs) => (\n                <div className={cx('menu-list')} tabIndex=\"-1\" {...attrs}>\n                    <PopperWrapper className={cx('menu-popper')}>\n                        {history.length > 1 && (\n                            <Header\n                                title=\"Language\"\n                                onBack={() => {\n                                    setHistory((prev) => prev.slice(0, prev.length - 1));\n                                }}\n                            />\n                        )}\n                        {renderItems()}\n                    </PopperWrapper>\n                </div>\n            )}\n            onHide={() => setHistory((prev) => prev.slice(0, 1))}\n        >\n            {children}\n        </Tippy>\n    );\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}