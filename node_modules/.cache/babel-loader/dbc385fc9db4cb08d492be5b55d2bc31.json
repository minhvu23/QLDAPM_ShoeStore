{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\HP\\\\Desktop\\\\QLDAPM_ShoesStore\\\\ShoesStore-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import classNames from'classnames/bind';import styles from\"./Product.module.scss\";import*as productList from\"../../apiServices/productList\";import*as productByCategoryId from\"../../apiServices/productByCategoryId\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function Product(){var _useParams=useParams(),categoryId=_useParams.categoryId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!categoryId){_context.next=7;break;}_context.next=4;return productByCategoryId.getProductsByCategoryId(categoryId);case 4:_context.t0=_context.sent;_context.next=10;break;case 7:_context.next=9;return productList.getProducts();case 9:_context.t0=_context.sent;case 10:result=_context.t0;setProducts(result||[]);_context.next=17;break;case 14:_context.prev=14;_context.t1=_context[\"catch\"](0);console.error('Failed to fetch products: ',_context.t1);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();fetchProducts();},[categoryId]);if(products.length===0){return/*#__PURE__*/_jsx(\"h1\",{children:\"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m\"});}return/*#__PURE__*/_jsx(\"div\",{className:cx('product-list'),children:products.map(function(product){return/*#__PURE__*/_jsx(Link,{to:\"/Product/\".concat(product.productId),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('card'),style:{width:'180px'},children:[/*#__PURE__*/_jsx(\"img\",{className:cx('card-img-top'),src:product.imageUrl,alt:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:cx('card-body'),children:[/*#__PURE__*/_jsx(\"h4\",{className:cx('card-title'),children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:cx('card-text'),children:product.description})]})]})},product.productId);})});}export default Product;","map":{"version":3,"sources":["C:/Users/HP/Desktop/QLDAPM_ShoesStore/ShoesStore-ui/src/components/Product/index.js"],"names":["useEffect","useState","useParams","Link","classNames","styles","productList","productByCategoryId","cx","bind","Product","categoryId","products","setProducts","fetchProducts","getProductsByCategoryId","getProducts","result","console","error","length","map","product","productId","width","imageUrl","name","description"],"mappings":"waAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,MAAP,6BACA,MAAO,GAAKC,CAAAA,WAAZ,qCACA,MAAO,GAAKC,CAAAA,mBAAZ,6C,wFAEA,GAAMC,CAAAA,EAAE,CAAGJ,UAAU,CAACK,IAAX,CAAgBJ,MAAhB,CAAX,CAEA,QAASK,CAAAA,OAAT,EAAmB,CACf,eAAuBR,SAAS,EAAhC,CAAQS,UAAR,YAAQA,UAAR,CACA,cAAgCV,QAAQ,CAAC,EAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eAEAb,SAAS,CAAC,UAAM,CACZ,GAAMc,CAAAA,aAAa,0FAAG,kKAECH,UAFD,+CAGFJ,CAAAA,mBAAmB,CAACQ,uBAApB,CAA4CJ,UAA5C,CAHE,sFAIFL,CAAAA,WAAW,CAACU,WAAZ,EAJE,0CAERC,MAFQ,aAMdJ,WAAW,CAACI,MAAM,EAAI,EAAX,CAAX,CANc,iFAQdC,OAAO,CAACC,KAAR,CAAc,4BAAd,cARc,qEAAH,kBAAbL,CAAAA,aAAa,0CAAnB,CAWAA,aAAa,GAChB,CAbQ,CAaN,CAACH,UAAD,CAbM,CAAT,CAeA,GAAIC,QAAQ,CAACQ,MAAT,GAAoB,CAAxB,CAA2B,CACvB,mBAAO,yDAAP,CACH,CAED,mBACI,YAAK,SAAS,CAAEZ,EAAE,CAAC,cAAD,CAAlB,UACKI,QAAQ,CAACS,GAAT,CAAa,SAACC,OAAD,qBACV,KAAC,IAAD,EAAM,EAAE,oBAAcA,OAAO,CAACC,SAAtB,CAAR,uBACI,aAAK,SAAS,CAAEf,EAAE,CAAC,MAAD,CAAlB,CAA4B,KAAK,CAAE,CAAEgB,KAAK,CAAE,OAAT,CAAnC,wBACI,YAAK,SAAS,CAAEhB,EAAE,CAAC,cAAD,CAAlB,CAAoC,GAAG,CAAEc,OAAO,CAACG,QAAjD,CAA2D,GAAG,CAAEH,OAAO,CAACI,IAAxE,EADJ,cAEI,aAAK,SAAS,CAAElB,EAAE,CAAC,WAAD,CAAlB,wBACI,WAAI,SAAS,CAAEA,EAAE,CAAC,YAAD,CAAjB,UAAkCc,OAAO,CAACI,IAA1C,EADJ,cAEI,UAAG,SAAS,CAAElB,EAAE,CAAC,WAAD,CAAhB,UAAgCc,OAAO,CAACK,WAAxC,EAFJ,GAFJ,GADJ,EAAgDL,OAAO,CAACC,SAAxD,CADU,EAAb,CADL,EADJ,CAeH,CAED,cAAeb,CAAAA,OAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport classNames from 'classnames/bind';\nimport styles from './Product.module.scss';\nimport * as productList from '~/apiServices/productList';\nimport * as productByCategoryId from '~/apiServices/productByCategoryId';\n\nconst cx = classNames.bind(styles);\n\nfunction Product() {\n    const { categoryId } = useParams();\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const result = categoryId\n                    ? await productByCategoryId.getProductsByCategoryId(categoryId)\n                    : await productList.getProducts();\n\n                setProducts(result || []);\n            } catch (error) {\n                console.error('Failed to fetch products: ', error);\n            }\n        };\n        fetchProducts();\n    }, [categoryId]);\n\n    if (products.length === 0) {\n        return <h1>Không có sản phẩm</h1>;\n    }\n\n    return (\n        <div className={cx('product-list')}>\n            {products.map((product) => (\n                <Link to={`/Product/${product.productId}`} key={product.productId}>\n                    <div className={cx('card')} style={{ width: '180px' }}>\n                        <img className={cx('card-img-top')} src={product.imageUrl} alt={product.name} />\n                        <div className={cx('card-body')}>\n                            <h4 className={cx('card-title')}>{product.name}</h4>\n                            <p className={cx('card-text')}>{product.description}</p>\n                        </div>\n                    </div>\n                </Link>\n            ))}\n        </div>\n    );\n}\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}